apiVersion: v1
kind: ConfigMap
metadata:
  name: logger-script
data:
  logger.py: |
    import time
    import sys

    log_levels = ['info', 'inf', 'wrn', 'warn', 'err', 'error', 'panic']
    index = 0

    while True:
        level = log_levels[index]
        print(f"[{level.upper()}] This is a test log", flush=True)
        index = (index + 1) % len(log_levels)
        time.sleep(1)

---
apiVersion: v1
kind: Pod
metadata:
  name: logger-pod
spec:
  containers:
  - name: logger
    image: python:3.13-slim
    command: ["python", "/app/logger.py"]
    resources: {}
    volumeMounts:
    - name: logger-script
      mountPath: /app
  volumes:
  - name: logger-script
    configMap:
      name: logger-script
